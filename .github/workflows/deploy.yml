name: Deploy Server

on:
  push:
    branches: ["master"]
  pull_request:
    branches: ["master"]

    jobs:
      deploy:
        runs-on: self-hosted

        steps:
          - name: Checkout Repository
            uses: actions/checkout@v2
        
          - name: Setup Docker
            uses: docker/setup-docker@v2
        
          - name: Build Docker Image
            run: |
              docker build -t dice-roller .

          - name: Deploy using Docker Compose
            run: |
              docker-compose up -d 
